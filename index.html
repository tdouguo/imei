<html>  
<head>  
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">  
<title>批量生成IMEI码</title>  
<script language="JavaScript">  
function addNumber(r)
 {
   var str = '';
   for(var i = 0; i < r; i += 1)
   {
   str += Math.floor(Math.random() * 10);
   }
   return str;
 }     
function Imei() { 
		let i = 0;
		let vl_Sum1 = 0, vl_Sum2 = 0, vl_Total = 0;
		let vl_Temp = 0;
		var prefixArray = new Array("86507804","86910704","86507804", "86910704","86507804", "86910704","86507804", "86910704","86507804", "86910704");
		var k = parseInt(10 * Math.random());
		imeiString=prefixArray[k]+addNumber(6)
		for (i = 0; i < 14; i++) {
			if ((i % 2) == 0) {
				vl_Sum1 = vl_Sum1 + parseInt(imeiString[i]);
			} else {
				vl_Temp = (parseInt(imeiString[i])) * 2;
				if (vl_Temp < 10) {
					vl_Sum2 = vl_Sum2 + vl_Temp;
				} else {
					vl_Sum2 = vl_Sum2 + 1 + vl_Temp - 10;
				}
			}
		}
	    vl_Total = vl_Sum1 + vl_Sum2;
		if ((vl_Total % 10) == 0)
		    {
	      var lastnumber = "0";
			}else
			{	
			var lastnumber =10 - (vl_Total % 10).toString()
			}
		    return imeiString+lastnumber
    }
/**删除左右两端的空格**/  
function trim(str) {  
    return str.replace(/(^\s*)|(\s*$)/g, "");  
}  
    
/**批量生成身份证*/  
function createid() {  
    var count = document.getElementById("txt");  
    var cnt = count.value;  
    var info = document.getElementById("info");  
    info.innerHTML = "";  
    cnt = trim(cnt);  
    if (!isNaN(cnt)) {  
        cntcnt = cnt < 0 ? cnt = 10 : cnt;  
        cntcnt = cnt > 200 ? cnt = 200 : cnt;  
        for (i = 0; i < cnt; i++) {  
            var t = Imei();  
            info.innerHTML += "<font color=\"#9900FF\">" +t+ "</font> " + "<br>";  
        }  
    } else {  
        info.innerHTML = "<font color=\"#FF0000\">请输入数字！</font>";  
    }  
    count.focus;  
    count.select();  
}    
</script> 
</head>  
<body>
<div align="center">
<font color=\"#00DB00\">使用说明：<br></font> 
<font color=\"#00DB00\">在“数量”中输入想要生成的数量，点击“生成”，可以生成对应数量的IMEI码！ <hr><br></font> 
</div>  
<div id="query" align="center">  
 <font color=\"#5A5AAD\">数量:</font><input id="txt" type="text" name="qrytxt" size="20"> <br>  
 <br>  
 <input type="button" value="生成" name="btncreate" onclick="createid()"> <hr>  
 <div id="info" align="center">  
 </div>  
</div>  
</body>  
</html>  
